int pinROJO = 8;
int pinAMARILLO = 4;
int pinVERDE = 10;
int pinPULSADOR = 2;

void setup() {
  pinMode(pinROJO, OUTPUT);
  pinMode(pinAMARILLO, OUTPUT);
  pinMode(pinVERDE, OUTPUT);
  pinMode(pinPULSADOR, INPUT);
}

void loop() {
  int estadoBoton = digitalRead(pinPULSADOR);

  if (estadoBoton == LOW) {
    digitalWrite(pinVERDE, HIGH);
    delay(4000);
    digitalWrite(pinVERDE, LOW);

    digitalWrite(pinAMARILLO, HIGH);
    delay(2000);
    digitalWrite(pinAMARILLO, LOW);

    digitalWrite(pinROJO, HIGH);
    delay(6000);
    digitalWrite(pinROJO, LOW);
  }

  else if (estadoBoton == HIGH) {
    digitalWrite(pinVERDE, LOW);
    digitalWrite(pinAMARILLO, LOW);
    digitalWrite(pinROJO, HIGH);
    delay(10000); // tiempo para cruce de peat√≥n
    digitalWrite(pinROJO, LOW);
  }
}
